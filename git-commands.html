<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Git Commands - My Notebook</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


<meta name="description" content="basic git operations">



<meta name="keywords" content="git commands">







<link rel="icon" href="/images/favicon.ico">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro|Calibri|Ubuntu">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">



<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    

    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    My Notebook
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/">Home</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            Git Commands
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2016-07-14T19:45:35.000Z" itemprop="datePublished">Jul 15 2016</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/miscellaneous/">miscellaneous</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>Git is a powerful distributed version control system. In 2005, Linus Torvalds spent only two weeks developing this tool. The original purpose of git was version control for Linux OS source code. Since then, git become the most popular distributed version control system. In 2008, github was established for storing source code of open source projects. Now, more and more open source projects are moving to the github. This post introduces fundamentals of git commands.<br><a id="more"></a></p>
<h2 id="1-Initialization"><a href="#1-Initialization" class="headerlink" title="1. Initialization"></a>1. Initialization</h2><p>The git server setting based on <a href="/setting-up-the-git-server.html">setting git server</a>.</p>
<h3 id="1-1-Installation"><a href="#1-1-Installation" class="headerlink" title="1.1 Installation"></a>1.1 Installation</h3><p>You can install git from source code <a href="https://git-scm.com/" target="_blank" rel="noopener">Git for all platforms</a> or by Linux software management tool, such as <code>yum</code>, <code>apt-get</code>. Here shows the second approach.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">#For RHEL</span></span><br><span class="line">yum install git</span><br><span class="line"><span class="hljs-comment">#For ubuntu</span></span><br><span class="line">sudo apt-get install git git-core</span><br></pre></td></tr></table></figure>
<p>When installed, you can find the version through the <code>git --version</code> command:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br><span class="line">git version 2.7.4</span><br></pre></td></tr></table></figure>
<h3 id="1-2-Identify-yourself"><a href="#1-2-Identify-yourself" class="headerlink" title="1.2 Identify yourself"></a>1.2 Identify yourself</h3><p>Git provide <code>git config</code> command enables you configure your username and email address with the github, <code>global</code> means all the configurations will use this setting for local machine.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="hljs-string">"Your Name"</span></span><br><span class="line">git config --global user.email <span class="hljs-string">"YourEmail@YourDomain.com"</span></span><br><span class="line"><span class="hljs-comment">#Using git config -l show all your git configuration</span></span><br><span class="line">git config -l</span><br></pre></td></tr></table></figure>
<p>After you configured your username and email address on the local machine, you also need to provide your SSH keys for authentication:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">#Generate ssh public keys from your local machine</span></span><br><span class="line">$ ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>
<p>Paste your <code>~/.ssh/id_rsa.pub</code> to github account setting&#39;s SSH keys. After uploaded, you can test the authentication from your local machine. For a private git server, please refer to <a href="/setting-up-the-git-server.html">setting git server</a> for setting up ssh authentication.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ssh -T USERNAME@github.com</span><br><span class="line"><span class="hljs-comment"># if successfully, will show:</span></span><br><span class="line">Hi USERNAME! You<span class="hljs-string">'ve successfully authenticated, but GitHub does not provide shell access.</span></span><br><span class="line"><span class="hljs-string"># Or showing the following messages while failed with authentication</span></span><br><span class="line"><span class="hljs-string">Permission denied (publickey).</span></span><br></pre></td></tr></table></figure>
<h3 id="1-3-Initializing-local-repository"><a href="#1-3-Initializing-local-repository" class="headerlink" title="1.3 Initializing local repository"></a>1.3 Initializing local repository</h3><p>Before we go through the next section, we need to know two important terminologies of git: <strong><em>working directory</em></strong> and <strong><em>staging area</em></strong>. As its name implies, working directory is the local directory in our laptop/desktop. Besides, if we initialized the working directory as local repository, we would have a <code>.git</code> directory under the working directory, this file folder contains the git configurations, the version information, and most of all, the staging area(also are called index area). The command <code>git add file1</code> actually puts the changes of file1 into the staging area, we issue the <code>git commit</code> command to commit all the changes of the staging area to the current branch.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="hljs-built_in">cd</span> git-tutorial</span><br><span class="line">$ vim readme.md</span><br><span class="line">$ git init .         <span class="hljs-comment">#Initial local repository in git-tutorial</span></span><br><span class="line">Initialized empty Git repository <span class="hljs-keyword">in</span> /worktmp/git-tutorial/.git/</span><br><span class="line">$ git add .          <span class="hljs-comment">#Add all the files in the current working directory to the staging area</span></span><br><span class="line">$ git commit -m <span class="hljs-string">"commit messages"</span>      <span class="hljs-comment">#Commit the changes to the current branch</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># For github repository</span></span><br><span class="line">$ git remote add origin git@github.com:USERNAME/PROJECT_NAME.git</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># For private git server</span></span><br><span class="line">$ git remote add origin git@hostname:/project_dir/project.git</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Push your code to master branch</span></span><br><span class="line">$ git push origin master</span><br></pre></td></tr></table></figure>
<h2 id="2-Repository-commands"><a href="#2-Repository-commands" class="headerlink" title="2. Repository commands"></a>2. Repository commands</h2><h3 id="2-1-Push"><a href="#2-1-Push" class="headerlink" title="2.1 Push"></a>2.1 Push</h3><p>As its name implies, push is putting all of your committed changes from working directory to remote directory.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># cat hello.md</span></span><br><span class="line">Hello everyone, this is my second push.</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git status</span></span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Untracked files:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to include in what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#  hello.md</span></span><br><span class="line">nothing added to commit but untracked files present (use <span class="hljs-string">"git add"</span> to track)</span><br></pre></td></tr></table></figure>
<p>The <code>git status</code> result shows us that we changed a file, but haven&#39;t been committed.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git add .</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git commit -m "second push"</span></span><br><span class="line">[master b82094a] second push</span><br><span class="line"> 1 files changed, 1 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 hello.md</span><br></pre></td></tr></table></figure>
<p>If you modified some files, <code>git diff</code> would show you the difference with different versions.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># cat &gt;&gt;readme.md &lt;&lt;EOF</span></span><br><span class="line">diff <span class="hljs-built_in">command</span> to compare with before and after version</span><br><span class="line">EOF</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git commit -m "git diff command"</span></span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changed but not updated:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to update what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#  modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git diff readme.md</span></span><br><span class="line">diff --git a/readme.md b/readme.md</span><br><span class="line">index 18a27a1..7379c0f 100644</span><br><span class="line">--- a/readme.md</span><br><span class="line">+++ b/readme.md</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> Hi, this is the first initial.</span><br><span class="line">+diff <span class="hljs-built_in">command</span> to compare with before and after version</span><br></pre></td></tr></table></figure>
<p>After we committed the changed, we can push them to master branch now.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git add .</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git push origin master</span></span><br><span class="line">Counting objects: 4, <span class="hljs-keyword">done</span>.</span><br><span class="line">Compressing objects: 100% (2/2), <span class="hljs-keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 313 bytes, <span class="hljs-keyword">done</span>.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@node1:/git/project.git</span><br><span class="line">   ae69504..b82094a  master -&gt; master</span><br></pre></td></tr></table></figure>
<h3 id="2-2-Pull"><a href="#2-2-Pull" class="headerlink" title="2.2 Pull"></a>2.2 Pull</h3><p><code>git pull</code> command can let you update your local repository to the newest one, for example, when you updated your changes on your office desktop, but when you came home, you would like to modify something and push the changes to the remote repository, then you must pull from remote repository before you modified your local files.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">cd</span> project</span><br><span class="line">git pull orgin master</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># For force pull, discard the modification of local repository by overwriting it</span></span><br><span class="line">git reset --hard</span><br><span class="line">git pull origin master</span><br><span class="line"><span class="hljs-comment"># Or</span></span><br><span class="line">git fetch origin</span><br><span class="line">git reset --hard origin/master</span><br></pre></td></tr></table></figure>
<p><code>git reset</code> command will be introduced in the following sections.   </p>
<p>After you update your local repository, you can push your changes into the remote repository.</p>
<h3 id="2-3-Branches-management"><a href="#2-3-Branches-management" class="headerlink" title="2.3 Branches management"></a>2.3 Branches management</h3><ul>
<li>Creating and switching branches</li>
</ul>
<p>Git can have multiple branches, let&#39;s create another branch first.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Creating source branch</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git checkout -b source</span></span><br><span class="line">Switched to a new branch <span class="hljs-string">'source'</span></span><br></pre></td></tr></table></figure>
<p>With the <code>-b</code> option, it means create and switch to new branch, this command equals:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch <span class="hljs-built_in">source</span></span><br><span class="line">git checkout <span class="hljs-built_in">source</span></span><br></pre></td></tr></table></figure>
<p><code>git branch</code> command can show you what branch are you in.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git branch</span></span><br><span class="line">    master</span><br><span class="line">  * <span class="hljs-built_in">source</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Merging the branches</li>
</ul>
<p>We can commit and push changed data when we are in branches. Let&#39;s modify something, and push it to the remote repository.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Do some modifications</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># cat &gt;&gt;hello.md &lt;&lt;EOF</span></span><br><span class="line">new branches.</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Commit the changes</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git add hello.md</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git commit -m "adding branches"</span></span><br><span class="line">[<span class="hljs-built_in">source</span> 33e6404] adding branches</span><br><span class="line"> 1 files changed, 1 insertions(+), 0 deletions(-)</span><br></pre></td></tr></table></figure>
<p>Now, guess what happen if we back to the master branch? The modifications we changed before are gone.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git checkout master</span></span><br><span class="line">Switched to branch <span class="hljs-string">'master'</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># cat hello.md</span></span><br><span class="line">Hello everyone, this is my second push.</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git checkout source</span></span><br><span class="line">Switched to branch <span class="hljs-string">'source'</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># cat hello.md</span></span><br><span class="line">Hello everyone, this is my second push.</span><br><span class="line">new branches.</span><br></pre></td></tr></table></figure>
<p>It&#39;s just because we committed at the source branch, not at the master branch. <code>git merge</code> command can merge multiple branches, and because of creating, merging, deleting branches is very fast, git recommend us using branches for some tasks, after merged the branches, delete those branches. This process just like what we did in master branch, but it&#39;s more safety.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git checkout master</span></span><br><span class="line">Switched to branch <span class="hljs-string">'master'</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git branch</span></span><br><span class="line">* master</span><br><span class="line">  <span class="hljs-built_in">source</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git merge source</span></span><br><span class="line">Updating b33f2a9..33e6404</span><br><span class="line">Fast-forward</span><br><span class="line"> hello.md |    1 +</span><br><span class="line"> 1 files changed, 1 insertions(+), 0 deletions(-)</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># cat hello.md</span></span><br><span class="line">Hello everyone, this is my second push.</span><br><span class="line">new branches.</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git branch -d source</span></span><br><span class="line">Deleted branch <span class="hljs-built_in">source</span> (was 33e6404).</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git branch</span></span><br><span class="line">* master</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git push origin master</span></span><br><span class="line">Counting objects: 5, <span class="hljs-keyword">done</span>.</span><br><span class="line">Compressing objects: 100% (3/3), <span class="hljs-keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 327 bytes, <span class="hljs-keyword">done</span>.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@node1:/git/project.git</span><br><span class="line">   b33f2a9..33e6404  master -&gt; master</span><br></pre></td></tr></table></figure>
<p>If we want to keep the source branch, and do some different task from master branch, we also can treat it as master branch.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># touch branches.md</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git add .</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git commit -m "branches testing"</span></span><br><span class="line">[<span class="hljs-built_in">source</span> cd86d13] branches testing</span><br><span class="line"> 0 files changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 branches.md</span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git branch</span></span><br><span class="line">  master</span><br><span class="line">* <span class="hljs-built_in">source</span></span><br><span class="line">[root@node2:/worktmp/git-tutorial]<span class="hljs-comment"># git push origin source</span></span><br><span class="line">Counting objects: 4, <span class="hljs-keyword">done</span>.</span><br><span class="line">Compressing objects: 100% (2/2), <span class="hljs-keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 308 bytes, <span class="hljs-keyword">done</span>.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@node1:/git/project.git</span><br><span class="line"> * [new branch]      <span class="hljs-built_in">source</span> -&gt; <span class="hljs-built_in">source</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Conflict resolution</li>
</ul>
<p>Switch to the source branch, and do some modifications to files.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch source</span></span><br><span class="line"><span class="hljs-comment"># Changed but not updated:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to update what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line">$ git branch</span><br><span class="line">  master</span><br><span class="line">* <span class="hljs-built_in">source</span></span><br><span class="line"></span><br><span class="line">$ git add readme.md </span><br><span class="line">$ git commit -m <span class="hljs-string">"modified by source branch"</span></span><br><span class="line">[<span class="hljs-built_in">source</span> 6041c6f] modified by <span class="hljs-built_in">source</span> branch</span><br><span class="line"> 1 files changed, 1 insertions(+), 1 deletions(-)</span><br></pre></td></tr></table></figure>
<p>After that, we switch to the master branch, do some modifications, and commit it:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changed but not updated:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to update what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="hljs-string">"master branch"</span></span><br><span class="line">[master 3e1a68c] master branch</span><br><span class="line"> 1 files changed, 1 insertions(+), 0 deletions(-)</span><br><span class="line">$ git push origin master</span><br><span class="line">Counting objects: 5, <span class="hljs-keyword">done</span>.</span><br><span class="line">Compressing objects: 100% (2/2), <span class="hljs-keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 298 bytes, <span class="hljs-keyword">done</span>.</span><br><span class="line">Total 3 (delta 1), reused 0 (delta 0)</span><br><span class="line">To git@node1:/git/git-tutorial.git</span><br><span class="line">   7a96d51..3e1a68c  master -&gt; master</span><br></pre></td></tr></table></figure>
<p>Now, we have committed the changes on both source and master branch, if we try to merge them, it will warn you there&#39;re some conflicts need you to solve it manually before merge.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git merge <span class="hljs-built_in">source</span></span><br><span class="line">Auto-merging readme.md</span><br><span class="line">CONFLICT (content): Merge conflict <span class="hljs-keyword">in</span> readme.md</span><br><span class="line">Automatic merge failed; fix conflicts and <span class="hljs-keyword">then</span> commit the result.</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Unmerged paths:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add/rm &lt;file&gt;..." as appropriate to mark resolution)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       both modified:      readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure>
<p>The contents of readme.md file changed to as following, you can modify it and re-commit again.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat readme.md</span><br><span class="line">Conflict Resolution.</span><br><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line">1. adding some line from node2 and pushing it to remote repo.</span><br><span class="line">2. adding some line from node1</span><br><span class="line">=======</span><br><span class="line">Another change from master branch.</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt; <span class="hljs-built_in">source</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Clone multiple branches to local repository</li>
</ul>
<p>With multiple branches, if you want clone the whole repository, you need to clone all of the branches one by one.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Clone multiple branches into local repo</span></span><br><span class="line">git <span class="hljs-built_in">clone</span> -b <span class="hljs-built_in">source</span> https://github.com/username/projectname.git</span><br><span class="line"><span class="hljs-built_in">cd</span> projectname</span><br><span class="line">git <span class="hljs-built_in">clone</span> https://github.com/username/project master</span><br></pre></td></tr></table></figure>
<h3 id="2-4-Rollback-to-the-before-version"><a href="#2-4-Rollback-to-the-before-version" class="headerlink" title="2.4 Rollback to the before version"></a>2.4 Rollback to the before version</h3><p>Once we changed somethings wrong in the local repository, we need to revert the changes to the before version. Depending on what scenarios are, git provides kind of commands to let you rollback to the before version.</p>
<ul>
<li>Wrong modifications on the working directory</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt;&gt;readme.md &lt;&lt;EOF</span><br><span class="line">Only Wrong modifications on the working directory</span><br><span class="line">EOF</span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changed but not updated:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to update what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure>
<p>The <code>git status</code> command already told us what should we do if we want to discard the changes, by using <code>git checkout -- file1</code> command. This command will let file1 back to the status of the last <code>git commit</code> or <code>git add</code>.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -- readme.md</span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line">   nothing to commit (working directory clean)</span><br><span class="line">$ cat readme.md</span><br><span class="line">   The first initial.</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Wrong modifications on the working directory and added the changes to the staging area</p>
<p>  The same example, you modified the readme.md file, and you added these changes to the staging area.</p>
</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt;&gt;readme.md &lt;&lt;EOF</span><br><span class="line">Only Wrong modifications on the working directory</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changed but not updated:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to update what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line">$ git add readme.md</span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changes to be committed:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git reset HEAD &lt;file&gt;..." to unstage)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br></pre></td></tr></table></figure>
<p>After you added the changes to the staging area, <code>git status</code> showed you another recommendation for unstaging.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git reset HEAD readme.md</span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       readme.md</span><br></pre></td></tr></table></figure>
<p>After we resetted the HEAD of readme.md file, we&#39;re back to the before added version, so we can use <code>git checkout -- filename</code> to revert all the changes.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changed but not updated:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git add &lt;file&gt;..." to update what will be committed)</span></span><br><span class="line"><span class="hljs-comment">#   (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#       modified:   readme.md</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line">no changes added to commit (use <span class="hljs-string">"git add"</span> and/or <span class="hljs-string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Wrong modifications on the working directory and committed the changes to the current branch</p>
<p>  The above two scenarios both are not committed the changes, what if we do when the wrong modifications are committed but not being pushed to the remote repository?</p>
</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt;&gt;readme.md &lt;&lt;EOF</span><br><span class="line">Only Wrong modifications on the working directory</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">$ git add readme.md</span><br><span class="line">$ git commit -m <span class="hljs-string">"reverting committed changes testing"</span></span><br></pre></td></tr></table></figure>
<p><code>git log</code> can show us the committed history. <code>git reflog</code> can show us the commit id and HEAD version, we can revert our changes by using <code>git reset --hadr/soft commit_id</code> command.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">4da4888 HEAD@&#123;0&#125;: commit: reverting committed changes testing</span><br><span class="line">3d88e42 HEAD@&#123;1&#125;: commit: adding hello.md</span><br><span class="line">e340212 HEAD@&#123;2&#125;: commit: adding hello.md</span><br><span class="line">5f9a0f6 HEAD@&#123;3&#125;: commit (initial): First initialize</span><br></pre></td></tr></table></figure>
<p>For our example, we need to back to the version of commit id <em>3d88e42</em>, also the last committed version which can use <code>HEAD^</code> to specify.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard 3d88e42</span><br><span class="line"><span class="hljs-comment"># or</span></span><br><span class="line">$ git reset --hard HEAD^</span><br><span class="line">HEAD is now at 3d88e42 adding hello.md</span><br><span class="line">$ cat readme.md</span><br><span class="line">The first initial.</span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line">nothing to commit (working directory clean)</span><br></pre></td></tr></table></figure>
<p>Now the <code>git reflog</code> output as below:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">3d88e42 HEAD@&#123;0&#125;: HEAD^: updating HEAD</span><br><span class="line">4da4888 HEAD@&#123;1&#125;: commit: reverting committed changes testing</span><br><span class="line">3d88e42 HEAD@&#123;2&#125;: commit: adding hello.md</span><br><span class="line">e340212 HEAD@&#123;3&#125;: commit: adding hello.md</span><br><span class="line">5f9a0f6 HEAD@&#123;4&#125;: commit (initial): First initialize</span><br></pre></td></tr></table></figure>
<p>If we regret for the reverting and want to back to the commit id <em>4da4888</em>, we also can use <code>git reset</code> back to the specified version:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard 4da4888</span><br><span class="line">$ cat readme.md</span><br><span class="line">The first initial.</span><br><span class="line">Only Wrong modifications on the working directory</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>hard</code> and <code>soft</code></p>
<p>  <code>HEAD</code> stands for version, <code>HEAD^</code> or <code>HEAD~</code> option stands for the latest commit&#39;s parent, <code>HEAD~10</code> means back to last 10 commit version.<br>  <code>git reset --soft</code> only revert the commit, but remain the modified files in the working directory.<br>  <code>git reset --hard</code> revert the changes to the last commit status, that means it will delete all the committed information, revert the file to the last committed status.</p>
<p>  For example:</p>
</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$ cat &gt;&gt;readme.md &lt;&lt;EOF</span><br><span class="line">differential of soft and hard</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">$ git add readme.md </span><br><span class="line">$ git commit -m <span class="hljs-string">"soft and hard first commit"</span></span><br><span class="line">[master c9fb3e9] soft and hard first commit</span><br><span class="line"> 1 files changed, 1 insertions(+), 0 deletions(-)</span><br><span class="line">$ git reset --soft HEAD^</span><br><span class="line">$ git diff</span><br><span class="line">$ git diff --cached</span><br><span class="line">diff --git a/readme.md b/readme.md</span><br><span class="line">index ae00a84..8cc4a14 100644</span><br><span class="line">--- a/readme.md</span><br><span class="line">+++ b/readme.md</span><br><span class="line">@@ -1,2 +1,3 @@</span><br><span class="line">The first initial.</span><br><span class="line">Only Wrong modifications on the working directory</span><br><span class="line">+differential of soft and hard</span><br><span class="line"></span><br><span class="line">$ git diff HEAD</span><br><span class="line">diff --git a/readme.md b/readme.md</span><br><span class="line">index ae00a84..8cc4a14 100644</span><br><span class="line">--- a/readme.md</span><br><span class="line">+++ b/readme.md</span><br><span class="line">@@ -1,2 +1,3 @@</span><br><span class="line"> The first initial.</span><br><span class="line"> Only Wrong modifications on the working directory</span><br><span class="line">+differential of soft and hard</span><br></pre></td></tr></table></figure>
<p>From the above outputs, the <code>git diff</code> shows nothing, but the <code>git diff --cached</code> and <code>git diff HEAD</code> shows the line we just added to readme.md file.<br><strong>So, if you just want to revert the commit and keep the modifications in the working directory, use <code>--soft</code> option. If you don&#39;t want keep the modifications and want to revert the commit, please use <code>--hard</code> option.</strong></p>
<h3 id="2-6-Reverting-pushed-committed-changes"><a href="#2-6-Reverting-pushed-committed-changes" class="headerlink" title="2.6 Reverting pushed committed changes"></a>2.6 Reverting pushed committed changes</h3><p>Last example shows how to revert committed changes on the local repository, but those changes were not pushed yet. What if we pushed those wrong changes to the remote repository?</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Add a new file to local repository and pushed it to remote repository</span></span><br><span class="line">$ git add reverting.md</span><br><span class="line">$ git status</span><br><span class="line"><span class="hljs-comment"># On branch master</span></span><br><span class="line"><span class="hljs-comment"># Changes to be committed:</span></span><br><span class="line"><span class="hljs-comment">#   (use "git reset HEAD &lt;file&gt;..." to unstage)</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment">#  new file:   reverting.md</span></span><br><span class="line"></span><br><span class="line">$ git commit -m <span class="hljs-string">"adding reverting.md"</span></span><br><span class="line">[master c727ce3] adding reverting.md</span><br><span class="line"> 1 files changed, 1 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 reverting.md</span><br><span class="line">$ git push origin master</span><br><span class="line">Counting objects: 4, <span class="hljs-keyword">done</span>.</span><br><span class="line">Compressing objects: 100% (2/2), <span class="hljs-keyword">done</span>.</span><br><span class="line">Writing objects: 100% (3/3), 344 bytes, <span class="hljs-keyword">done</span>.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@node1:/git/project/project.git/</span><br><span class="line">   6c71346..c727ce3  master -&gt; master</span><br></pre></td></tr></table></figure>
<p>Reverting the pushed data by using <code>git reset</code> and <code>git push</code> with <code>force</code> option.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">c727ce3 HEAD@&#123;0&#125;: commit: adding reverting.md</span><br><span class="line">6c71346 HEAD@&#123;1&#125;: HEAD^: updating HEAD</span><br><span class="line">9b6bdd6 HEAD@&#123;2&#125;: commit: modified readme.md</span><br><span class="line"></span><br><span class="line">$ git reset --hard HEAD^</span><br><span class="line">HEAD is now at 6c71346 adding readme file</span><br><span class="line"></span><br><span class="line">$ git push origin -f</span><br><span class="line">Total 0 (delta 0), reused 0 (delta 0)</span><br><span class="line">To git@node1:/git/project/project.git/</span><br><span class="line"> + c727ce3...6c71346 master -&gt; master (forced update)</span><br></pre></td></tr></table></figure>
<p>Above commands can be combined with one command:</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f origin HEAD^:master</span><br></pre></td></tr></table></figure>
<h3 id="2-7-Deleting-the-files"><a href="#2-7-Deleting-the-files" class="headerlink" title="2.7 Deleting the files"></a>2.7 Deleting the files</h3><p>Besides add, modify files, we also can delete the files we don&#39;t want any more with <code>git rm</code> command.   </p>
<p>Below example showing deleting the file from working directory and version repository, that is deleted permanently</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git rm hello.md</span><br><span class="line">rm <span class="hljs-string">'hello.md'</span></span><br><span class="line">$ git commit -m <span class="hljs-string">"remove hello,md"</span></span><br><span class="line">[master a7dd8e0] remove hello,md</span><br><span class="line"> 1 files changed, 0 insertions(+), 2 deletions(-)</span><br><span class="line"> delete mode 100644 hello.md</span><br><span class="line">$ ls</span><br><span class="line">readme.md</span><br></pre></td></tr></table></figure>
<p>Below example showing the deleted files by OS <code>rm</code> command, and before commit it, the version repository still keeping the information, so we can use <code>git checkout -- file</code> command to restore it.</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ rm -f readme.md</span><br><span class="line">$ git checkout -- readme.md</span><br><span class="line">$ ls</span><br><span class="line">readme.md</span><br></pre></td></tr></table></figure>
<p><strong><em>EOF</em></strong></p>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/git/">#git</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/migrating-sms-to-dms-in-db2.html">Migrating SMS to DMS in DB2</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/setting-up-the-git-server.html">Setting Up the Git Server</a>
            
        </span>
    </div>
    
</article>




    </div>
</section>
    <footer class="footer footer-padding">
    <div class="container content">
            <div class="column is-narrow has-text-centered is-size-7-mobile">
                &copy;  <a href="/">Fung Kong&nbsp;</a>
                2013 - 2019
            </div>
    </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
    
    
    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>