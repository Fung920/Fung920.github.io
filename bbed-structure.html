<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>BBED Structure - My Notebook</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


<meta name="description" content="bbed中的块结构">



<meta name="keywords" content="bbed">







<link rel="icon" href="/images/favicon.ico">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro|Calibri|Ubuntu">
<link rel="stylesheet" href="//fonts.lug.ustc.edu.cn/css?family=Ovo|Source+Code+Pro|Calibri|Ubuntu">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">



<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    

    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    My Notebook
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/">Home</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            BBED Structure
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2014-09-01T08:07:05.000Z" itemprop="datePublished">Sep 1 2014</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/oracle/">oracle</a>
        </span>
        
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>BBED中map命令能显示数据块的数据结构，本文以bbed分析数据块头及数据块为例，说明map中的具体结构。<br><a id="more"></a></p>
<h3 id="1-数据块头结构"><a href="#1-数据块头结构" class="headerlink" title="1. 数据块头结构"></a>1. 数据块头结构</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; set dba 1,1</span><br><span class="line">        DBA             0x00400001 (4194305 1,1)</span><br><span class="line"></span><br><span class="line">BBED&gt; map /v</span><br><span class="line"> File: /oradata/datafile/linora/system01.dbf (1)</span><br><span class="line"> Block: 1                                     Dba:0x00400001</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"> Data File Header									--表示文件头</span><br><span class="line"></span><br><span class="line"> struct kcvfh, 860 bytes                    @0       --此块只有一个Structure，kcvfh</span><br><span class="line">    struct kcvfhbfh, 20 bytes               @0       </span><br><span class="line">    struct kcvfhhdr, 76 bytes               @20      </span><br><span class="line">    ub4 kcvfhrdb                            @96      </span><br><span class="line">    struct kcvfhcrs, 8 bytes                @100     </span><br><span class="line">    ub4 kcvfhcrt                            @108     </span><br><span class="line">    ub4 kcvfhrlc                            @112     </span><br><span class="line">    struct kcvfhrls, 8 bytes                @116     </span><br><span class="line">    ub4 kcvfhbti                            @124     </span><br><span class="line">    struct kcvfhbsc, 8 bytes                @128     </span><br><span class="line">    ub2 kcvfhbth                            @136     </span><br><span class="line">    ub2 kcvfhsta                            @138     </span><br><span class="line">    struct kcvfhckp, 36 bytes               @484     </span><br><span class="line">    ub4 kcvfhcpc                            @140     </span><br><span class="line">    ub4 kcvfhrts                            @144     </span><br><span class="line">    ub4 kcvfhccc                            @148     </span><br><span class="line">    struct kcvfhbcp, 36 bytes               @152     </span><br><span class="line">    ub4 kcvfhbhz                            @312     </span><br><span class="line">    struct kcvfhxcd, 16 bytes               @316     </span><br><span class="line">    sword kcvfhtsn                          @332     </span><br><span class="line">    ub2 kcvfhtln                            @336     </span><br><span class="line">    text kcvfhtnm[30]                       @338     </span><br><span class="line">    ub4 kcvfhrfn                            @368     </span><br><span class="line">    struct kcvfhrfs, 8 bytes                @372     </span><br><span class="line">    ub4 kcvfhrft                            @380     </span><br><span class="line">    struct kcvfhafs, 8 bytes                @384     </span><br><span class="line">    ub4 kcvfhbbc                            @392     </span><br><span class="line">    ub4 kcvfhncb                            @396     </span><br><span class="line">    ub4 kcvfhmcb                            @400     </span><br><span class="line">    ub4 kcvfhlcb                            @404     </span><br><span class="line">    ub4 kcvfhbcs                            @408     </span><br><span class="line">    ub2 kcvfhofb                            @412     </span><br><span class="line">    ub2 kcvfhnfb                            @414     </span><br><span class="line">    ub4 kcvfhprc                            @416     </span><br><span class="line">    struct kcvfhprs, 8 bytes                @420     </span><br><span class="line">    struct kcvfhprfs, 8 bytes               @428     </span><br><span class="line">    ub4 kcvfhtrt                            @444     </span><br><span class="line"></span><br><span class="line"> ub4 tailchk                                @8188</span><br></pre></td></tr></table></figure>
<p>print kcvfh看看具体内容：<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; p kcvfh</span><br><span class="line">struct kcvfh, 860 bytes                     @0       </span><br><span class="line">   struct kcvfhbfh, 20 bytes                @0       					</span><br><span class="line">   --数据块头</span><br><span class="line">   --前20个字节对应如图一所示</span><br><span class="line">      ub1 type_kcbh                         @0        0x0b				</span><br><span class="line">	  --Header Block Type，如图二</span><br><span class="line">	  --此处转换为10进制是11，正是file header</span><br><span class="line">      ub1 frmt_kcbh                         @1        0xa2				</span><br><span class="line">	  --块格式，1为Oracle 7,2为Oracle 8后</span><br><span class="line">      ub1 spare1_kcbh                       @2        0x00				</span><br><span class="line">      ub1 spare2_kcbh                       @3        0x00				</span><br><span class="line">      ub4 rdba_kcbh                         @4        0x00400001		</span><br><span class="line">	  --RDBA,相对块地址</span><br><span class="line">      ub4 bas_kcbh                          @8        0x00000000		</span><br><span class="line">	  --SCN base</span><br><span class="line">      ub2 wrp_kcbh                          @12       0x0000			</span><br><span class="line">	  --SCN Wrap</span><br><span class="line">      ub1 seq_kcbh                          @14       0x01				</span><br><span class="line">	  --序列号，同一个SCN不同的序列号，标记块版本</span><br><span class="line">      ub1 flg_kcbh                          @15       0x04 (KCBHFCKV)	</span><br><span class="line">	  --标记号</span><br><span class="line">		--0x01新块</span><br><span class="line">		--0x02 Delayed Logging Chang advanced SCN/seq</span><br><span class="line">		--0x04 Check value saved</span><br><span class="line">      ub2 chkval_kcbh                       @16       0x1375			</span><br><span class="line">	  --块校验值</span><br><span class="line">      ub2 spare3_kcbh                       @18       0x0000			</span><br><span class="line">   struct kcvfhhdr, 76 bytes                @20      					</span><br><span class="line">   --文件头通用数据类型</span><br><span class="line">      ub4 kccfhswv                          @20       0x00000000		</span><br><span class="line">      ub4 kccfhcvn                          @24       0x0b200400		</span><br><span class="line">      ub4 kccfhdbi                          @28       0xc9cffd9d		</span><br><span class="line">	  --dbid</span><br><span class="line">      text kccfhdbn[0]                      @32      L					</span><br><span class="line">	  --接下来8个字符为Oracle SID，只能&lt;=8个字符</span><br><span class="line">      text kccfhdbn[1]                      @33      I</span><br><span class="line">      text kccfhdbn[2]                      @34      N</span><br><span class="line">      text kccfhdbn[3]                      @35      O</span><br><span class="line">      text kccfhdbn[4]                      @36      R</span><br><span class="line">      text kccfhdbn[5]                      @37      A</span><br><span class="line">      text kccfhdbn[6]                      @38       </span><br><span class="line">      text kccfhdbn[7]                      @39       </span><br><span class="line">      ub4 kccfhcsq                          @40       0x00002353		</span><br><span class="line">	  --Controlfile sequence number</span><br><span class="line">      ub4 kccfhfsz                          @44       0x00016800		</span><br><span class="line">	  --所在数据文件块数=dba_data_files.blocks</span><br><span class="line">      s_blkz kccfhbsz                       @48       0x00				</span><br><span class="line">      ub2 kccfhfno                          @52       0x0001</span><br><span class="line">	  --文件号file_id</span><br><span class="line">      ub2 kccfhtyp                          @54       0x0003</span><br><span class="line">	  --文件类型，03表示数据文件，06表示undo</span><br><span class="line">      ub4 kccfhacid                         @56       0x00000000</span><br><span class="line">      ub4 kccfhcks                          @60       0x00000000</span><br><span class="line">      text kccfhtag[0]                      @64       </span><br><span class="line">      text kccfhtag[1]                      @65       </span><br><span class="line">      text kccfhtag[2]                      @66       </span><br><span class="line">      text kccfhtag[3]                      @67       </span><br><span class="line">      text kccfhtag[4]                      @68       </span><br><span class="line">      text kccfhtag[5]                      @69       </span><br><span class="line">      text kccfhtag[6]                      @70       </span><br><span class="line">      text kccfhtag[7]                      @71       </span><br><span class="line">      text kccfhtag[8]                      @72       </span><br><span class="line">      text kccfhtag[9]                      @73       </span><br><span class="line">      text kccfhtag[10]                     @74       </span><br><span class="line">      text kccfhtag[11]                     @75       </span><br><span class="line">      text kccfhtag[12]                     @76       </span><br><span class="line">      text kccfhtag[13]                     @77       </span><br><span class="line">      text kccfhtag[14]                     @78       </span><br><span class="line">      text kccfhtag[15]                     @79       </span><br><span class="line">      text kccfhtag[16]                     @80       </span><br><span class="line">      text kccfhtag[17]                     @81       </span><br><span class="line">      text kccfhtag[18]                     @82       </span><br><span class="line">      text kccfhtag[19]                     @83       </span><br><span class="line">      text kccfhtag[20]                     @84       </span><br><span class="line">      text kccfhtag[21]                     @85       </span><br><span class="line">      text kccfhtag[22]                     @86       </span><br><span class="line">      text kccfhtag[23]                     @87       </span><br><span class="line">      text kccfhtag[24]                     @88       </span><br><span class="line">      text kccfhtag[25]                     @89       </span><br><span class="line">      text kccfhtag[26]                     @90       </span><br><span class="line">      text kccfhtag[27]                     @91       </span><br><span class="line">      text kccfhtag[28]                     @92       </span><br><span class="line">      text kccfhtag[29]                     @93       </span><br><span class="line">      text kccfhtag[30]                     @94       </span><br><span class="line">      text kccfhtag[31]                     @95       </span><br><span class="line">   ub4 kcvfhrdb                             @96       0x00400208</span><br><span class="line">   --仅1号文件有值，代表root dba，本例中转换为10进制为4194824，</span><br><span class="line">   --通过dbms_utility可以查看到正是1号文件520 Block。</span><br><span class="line">   --在11g中，dba 1,520 代表的是bootstrap$，10g是dba 1,377，10g以前是dba 1,417</span><br><span class="line">   --查询语句：</span><br><span class="line">   --col SEGMENT_NAME for a15</span><br><span class="line">   --select segment_name,segment_type,header_file,header_block from dba_segments where header_block=520;</span><br><span class="line">   struct kcvfhcrs, 8 bytes                 @100     </span><br><span class="line">   --数据文件创建scn</span><br><span class="line">      ub4 kscnbas                           @100      0x0000000e</span><br><span class="line">      ub2 kscnwrp                           @104      0x0000</span><br><span class="line">   ub4 kcvfhcrt                             @108      0x3201eb02</span><br><span class="line">   --数据文件创建时间</span><br><span class="line">   ub4 kcvfhrlc                             @112      0x32a6fb05</span><br><span class="line">   --resetlog时间</span><br><span class="line">   struct kcvfhrls, 8 bytes                 @116     </span><br><span class="line">   --resetlog scn</span><br><span class="line">      ub4 kscnbas                           @116      0x00170c23</span><br><span class="line">      ub2 kscnwrp                           @120      0x0000</span><br><span class="line">   ub4 kcvfhbti                             @124      0x00000000</span><br><span class="line">   --begin hot backup time</span><br><span class="line">   struct kcvfhbsc, 8 bytes                 @128     </span><br><span class="line">   --last backup stared scn</span><br><span class="line">      ub4 kscnbas                           @128      0x00000000</span><br><span class="line">      ub2 kscnwrp                           @132      0x0000</span><br><span class="line">   ub2 kcvfhbth                             @136      0x0000</span><br><span class="line">   --begin hot backup redo thread</span><br><span class="line">   ub2 kcvfhsta                             @138      0x2004 (KCVFHOFZ)</span><br><span class="line">   --数据文件状态，04为正常，00为关闭，01为begin backup</span><br><span class="line">   struct kcvfhckp, 36 bytes                @484     </span><br><span class="line">   --检查点信息</span><br><span class="line">      struct kcvcpscn, 8 bytes              @484     </span><br><span class="line">	  --检查点scn</span><br><span class="line">         ub4 kscnbas                        @484      0x003443f4</span><br><span class="line">         ub2 kscnwrp                        @488      0x0000</span><br><span class="line">      ub4 kcvcptim                          @492      0x331aa11c</span><br><span class="line">	  --检查点时间</span><br><span class="line">      ub2 kcvcpthr                          @496      0x0001</span><br><span class="line">	  --检查点线程号</span><br><span class="line">      union u, 12 bytes                     @500     </span><br><span class="line">         struct kcvcprba, 12 bytes          @500     </span><br><span class="line">		 --Checkpoint scn redo rda(参照前文[重做日志]关于rba的描述)</span><br><span class="line">            ub4 kcrbaseq                    @500      0x000000ae</span><br><span class="line">			--log序列号</span><br><span class="line">            ub4 kcrbabno                    @504      0x00000002</span><br><span class="line">			--块号</span><br><span class="line">            ub2 kcrbabof                    @508      0x0010</span><br><span class="line">			--偏移量</span><br><span class="line">      ub1 kcvcpetb[0]                       @512      0x02</span><br><span class="line">	  --最大线程数</span><br><span class="line">      ub1 kcvcpetb[1]                       @513      0x00</span><br><span class="line">      ub1 kcvcpetb[2]                       @514      0x00</span><br><span class="line">      ub1 kcvcpetb[3]                       @515      0x00</span><br><span class="line">      ub1 kcvcpetb[4]                       @516      0x00</span><br><span class="line">      ub1 kcvcpetb[5]                       @517      0x00</span><br><span class="line">      ub1 kcvcpetb[6]                       @518      0x00</span><br><span class="line">      ub1 kcvcpetb[7]                       @519      0x00</span><br><span class="line">   ub4 kcvfhcpc                             @140      0x00000253</span><br><span class="line">   --v$datafile_header.CHECKPOINT_COUNT，数据文件发生Checkpoint的次数</span><br><span class="line">   ub4 kcvfhrts                             @144      0x331aa119</span><br><span class="line">   --recoved time</span><br><span class="line">   ub4 kcvfhccc                             @148      0x00000252</span><br><span class="line">   --控制文件检查点次数</span><br><span class="line">   struct kcvfhbcp, 36 bytes                @152     </span><br><span class="line">   --backup Checkpoint</span><br><span class="line">      struct kcvcpscn, 8 bytes              @152     </span><br><span class="line">	  --begin backup checkpoint scn </span><br><span class="line">         ub4 kscnbas                        @152      0x00000000</span><br><span class="line">         ub2 kscnwrp                        @156      0x0000</span><br><span class="line">      ub4 kcvcptim                          @160      0x00000000</span><br><span class="line">	  --begin backup checkpoint time</span><br><span class="line">      ub2 kcvcpthr                          @164      0x0000</span><br><span class="line">	  --begin backup checkpoint thread</span><br><span class="line">      union u, 12 bytes                     @168     </span><br><span class="line">         struct kcvcprba, 12 bytes          @168     </span><br><span class="line">		 --begin backup checkpoint rba</span><br><span class="line">            ub4 kcrbaseq                    @168      0x00000000</span><br><span class="line">            ub4 kcrbabno                    @172      0x00000000</span><br><span class="line">            ub2 kcrbabof                    @176      0x0000</span><br><span class="line">      ub1 kcvcpetb[0]                       @180      0x00</span><br><span class="line">      ub1 kcvcpetb[1]                       @181      0x00</span><br><span class="line">      ub1 kcvcpetb[2]                       @182      0x00</span><br><span class="line">      ub1 kcvcpetb[3]                       @183      0x00</span><br><span class="line">      ub1 kcvcpetb[4]                       @184      0x00</span><br><span class="line">      ub1 kcvcpetb[5]                       @185      0x00</span><br><span class="line">      ub1 kcvcpetb[6]                       @186      0x00</span><br><span class="line">      ub1 kcvcpetb[7]                       @187      0x00</span><br><span class="line">   ub4 kcvfhbhz                             @312      0x00000000</span><br><span class="line">   struct kcvfhxcd, 16 bytes                @316     </span><br><span class="line">      ub4 space_kcvmxcd[0]                  @316      0x00000000</span><br><span class="line">      ub4 space_kcvmxcd[1]                  @320      0x00000000</span><br><span class="line">      ub4 space_kcvmxcd[2]                  @324      0x00000000</span><br><span class="line">      ub4 space_kcvmxcd[3]                  @328      0x00000000</span><br><span class="line">   sword kcvfhtsn                           @332      0</span><br><span class="line">   --表空间号:v$tablespace.ts$</span><br><span class="line">   ub2 kcvfhtln                             @336      0x0006</span><br><span class="line">   --表空间名字，最大为30字节</span><br><span class="line">   text kcvfhtnm[0]                         @338     S</span><br><span class="line">   text kcvfhtnm[1]                         @339     Y</span><br><span class="line">   text kcvfhtnm[2]                         @340     S</span><br><span class="line">   text kcvfhtnm[3]                         @341     T</span><br><span class="line">   text kcvfhtnm[4]                         @342     E</span><br><span class="line">   text kcvfhtnm[5]                         @343     M</span><br><span class="line">   text kcvfhtnm[6]                         @344      </span><br><span class="line">   text kcvfhtnm[7]                         @345      </span><br><span class="line">   text kcvfhtnm[8]                         @346      </span><br><span class="line">   text kcvfhtnm[9]                         @347      </span><br><span class="line">   text kcvfhtnm[10]                        @348      </span><br><span class="line">   text kcvfhtnm[11]                        @349      </span><br><span class="line">   text kcvfhtnm[12]                        @350      </span><br><span class="line">   text kcvfhtnm[13]                        @351      </span><br><span class="line">   text kcvfhtnm[14]                        @352      </span><br><span class="line">   text kcvfhtnm[15]                        @353      </span><br><span class="line">   text kcvfhtnm[16]                        @354      </span><br><span class="line">   text kcvfhtnm[17]                        @355      </span><br><span class="line">   text kcvfhtnm[18]                        @356      </span><br><span class="line">   text kcvfhtnm[19]                        @357      </span><br><span class="line">   text kcvfhtnm[20]                        @358      </span><br><span class="line">   text kcvfhtnm[21]                        @359      </span><br><span class="line">   text kcvfhtnm[22]                        @360      </span><br><span class="line">   text kcvfhtnm[23]                        @361      </span><br><span class="line">   text kcvfhtnm[24]                        @362      </span><br><span class="line">   text kcvfhtnm[25]                        @363      </span><br><span class="line">   text kcvfhtnm[26]                        @364      </span><br><span class="line">   text kcvfhtnm[27]                        @365      </span><br><span class="line">   text kcvfhtnm[28]                        @366      </span><br><span class="line">   text kcvfhtnm[29]                        @367      </span><br><span class="line">   ub4 kcvfhrfn                             @368      0x00000001</span><br><span class="line">   --相对文件号</span><br><span class="line">   struct kcvfhrfs, 8 bytes                 @372     </span><br><span class="line">   --Recovery fuzzy scn </span><br><span class="line">      ub4 kscnbas                           @372      0x00000000</span><br><span class="line">      ub2 kscnwrp                           @376      0x0000</span><br><span class="line">   ub4 kcvfhrft                             @380      0x00000000</span><br><span class="line">   --Recovery fuzzy time </span><br><span class="line">   struct kcvfhafs, 8 bytes                 @384     </span><br><span class="line">   --Absolute fuzzy scn  </span><br><span class="line">      ub4 kscnbas                           @384      0x00000000</span><br><span class="line">      ub2 kscnwrp                           @388      0x0000</span><br><span class="line">   ub4 kcvfhbbc                             @392      0x00000000</span><br><span class="line">   --Backup Block Count</span><br><span class="line">   ub4 kcvfhncb                             @396      0x00000000</span><br><span class="line">   --marked media Corrupt Blocks</span><br><span class="line">   ub4 kcvfhmcb                             @400      0x00000000</span><br><span class="line">   --Media Corrupt Blocks </span><br><span class="line">   ub4 kcvfhlcb                             @404      0x00000000</span><br><span class="line">   --Logically Corrupt Blocks</span><br><span class="line">   ub4 kcvfhbcs                             @408      0x00000000</span><br><span class="line">   --Backup Completion timeStamp</span><br><span class="line">   ub2 kcvfhofb                             @412      0x000a</span><br><span class="line">   ub2 kcvfhnfb                             @414      0x000a</span><br><span class="line">   ub4 kcvfhprc                             @416      0x323c286e</span><br><span class="line">   --prev reset logs time </span><br><span class="line">   struct kcvfhprs, 8 bytes                 @420     </span><br><span class="line">   --prev reset logs scn </span><br><span class="line">      ub4 kscnbas                           @420      0x001084e6</span><br><span class="line">      ub2 kscnwrp                           @424      0x0000</span><br><span class="line">   struct kcvfhprfs, 8 bytes                @428     </span><br><span class="line">      ub4 kscnbas                           @428      0x00000000</span><br><span class="line">      ub2 kscnwrp                           @432      0x0000</span><br><span class="line">   ub4 kcvfhtrt                             @444      0x00000000</span><br><span class="line">   --Terminal Recovery Stamp</span><br></pre></td></tr></table></figure></p>
<p>图1 Block Structure<br><img src="/images/bbed_kcvfhbfh.png" alt="Data Block"><br>图2 Header block type<br><img src="/images/bbed_header_block_type.png" alt="Header block type"></p>
<h3 id="2-数据块结构"><a href="#2-数据块结构" class="headerlink" title="2. 数据块结构"></a>2. 数据块结构</h3><p>数据块的结构如图三所示，包括cache层，事务层和数据层。<br>图3 Data Block Structure<br><img src="/images/bbed_data_block.png" alt="data block"><br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; set dba 8,11477</span><br><span class="line">        DBA             0x02002cd5 (33565909 8,11477)</span><br><span class="line">BBED&gt; map /v</span><br><span class="line"> File: /oradata/datafile/linora/perf01.dbf (8)</span><br><span class="line"> Block: 11477                                 Dba:0x02002cd5</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"> KTB Data Block (Table/Cluster)					--表示属于KTB数据块</span><br><span class="line"> struct kcbh, 20 bytes                      @0     </span><br><span class="line">--数据块头，其定义跟kcvfh一样 </span><br><span class="line">    ub1 type_kcbh                           @0       </span><br><span class="line">    ub1 frmt_kcbh                           @1       </span><br><span class="line">    ub1 spare1_kcbh                         @2       </span><br><span class="line">    ub1 spare2_kcbh                         @3       </span><br><span class="line">    ub4 rdba_kcbh                           @4       </span><br><span class="line">    ub4 bas_kcbh                            @8       </span><br><span class="line">    ub2 wrp_kcbh                            @12      </span><br><span class="line">    ub1 seq_kcbh                            @14      </span><br><span class="line">    ub1 flg_kcbh                            @15      </span><br><span class="line">    ub2 chkval_kcbh                         @16      </span><br><span class="line">    ub2 spare3_kcbh                         @18      </span><br><span class="line"> struct ktbbh, 72 bytes                     @20      </span><br><span class="line"> --事务层</span><br><span class="line">    ub1 ktbbhtyp                            @20      </span><br><span class="line">    union ktbbhsid, 4 bytes                 @24      </span><br><span class="line">    struct ktbbhcsc, 8 bytes                @28      </span><br><span class="line">    sb2 ktbbhict                            @36      </span><br><span class="line">    ub1 ktbbhflg                            @38      </span><br><span class="line">    ub1 ktbbhfsl                            @39      </span><br><span class="line">    ub4 ktbbhfnx                            @40      </span><br><span class="line">    struct ktbbhitl[2], 48 bytes            @44      </span><br><span class="line"> struct kdbh, 14 bytes                      @100    </span><br><span class="line">--数据层 </span><br><span class="line">    ub1 kdbhflag                            @100     </span><br><span class="line">    sb1 kdbhntab                            @101     </span><br><span class="line">    sb2 kdbhnrow                            @102     </span><br><span class="line">    sb2 kdbhfrre                            @104     </span><br><span class="line">    sb2 kdbhfsbo                            @106     </span><br><span class="line">    sb2 kdbhfseo                            @108     </span><br><span class="line">    sb2 kdbhavsp                            @110     </span><br><span class="line">    sb2 kdbhtosp                            @112     </span><br><span class="line"> struct kdbt[1], 4 bytes                    @114     </span><br><span class="line"> --表目录层</span><br><span class="line">    sb2 kdbtoffs                            @114     </span><br><span class="line">    sb2 kdbtnrow                            @116     </span><br><span class="line"> sb2 kdbr[9]                                @118     </span><br><span class="line"> --行目录层</span><br><span class="line"> ub1 freespace[7430]                        @136     </span><br><span class="line"> --空闲空间</span><br><span class="line"> ub1 rowdata[622]                           @7566    </span><br><span class="line"> --实际行数据</span><br><span class="line"> ub4 tailchk                                @8188</span><br></pre></td></tr></table></figure></p>
<p>分别打印上述结构，看看具体内容(kcbh(block header structure)定义如kcvfh.kcvfhbfh一致，均为数据块头，此处不在赘述)。</p>
<h4 id="2-1-ktbbh-Transaction-Fixed-Header-Structure"><a href="#2-1-ktbbh-Transaction-Fixed-Header-Structure" class="headerlink" title="2.1 ktbbh(Transaction Fixed Header Structure)"></a>2.1 ktbbh(Transaction Fixed Header Structure)</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; p ktbbh</span><br><span class="line">struct ktbbh, 72 bytes                      @20      </span><br><span class="line">   ub1 ktbbhtyp                             @20       0x01 (KDDBTDATA)</span><br><span class="line">   --块类型，1为data，2为index</span><br><span class="line">   union ktbbhsid, 4 bytes                  @24      </span><br><span class="line">   --Segment/Object ID，如果两者一致，表示对象没有被Truncate过</span><br><span class="line">      ub4 ktbbhsg1                          @24       0x00014b01</span><br><span class="line">      ub4 ktbbhod1                          @24       0x00014b01</span><br><span class="line">   struct ktbbhcsc, 8 bytes                 @28      </span><br><span class="line">   --块最后清除的SCN</span><br><span class="line">      ub4 kscnbas                           @28       0x0021d786</span><br><span class="line">      ub2 kscnwrp                           @32       0x0000</span><br><span class="line">   sb2 ktbbhict                             @36       2</span><br><span class="line">   --ITL slot number，事务槽号</span><br><span class="line">   ub1 ktbbhflg                             @38       0x32 (NONE)</span><br><span class="line">   --0=on the free list</span><br><span class="line">   ub1 ktbbhfsl                             @39       0x00</span><br><span class="line">   --ITL free list slot</span><br><span class="line">   ub4 ktbbhfnx                             @40       0x02002cd0</span><br><span class="line">   --DBA of next block on the freelist</span><br><span class="line">   struct ktbbhitl[0], 24 bytes             @44      </span><br><span class="line">   --ITL list index</span><br><span class="line">      struct ktbitxid, 8 bytes              @44      </span><br><span class="line">	  --ITL xid</span><br><span class="line">         ub2 kxidusn                        @44       0x0003</span><br><span class="line">		 --usn</span><br><span class="line">         ub2 kxidslt                        @46       0x000b</span><br><span class="line">		 --slot</span><br><span class="line">         ub4 kxidsqn                        @48       0x0000050d</span><br><span class="line">		 --Sequence</span><br><span class="line">      struct ktbituba, 8 bytes              @52      </span><br><span class="line">	  --uba</span><br><span class="line">         ub4 kubadba                        @52       0x00c006d4</span><br><span class="line">         ub2 kubaseq                        @56       0x00d2</span><br><span class="line">         ub1 kubarec                        @58       0x34</span><br><span class="line">      ub2 ktbitflg                          @60       0x2009 (KTBFUPB)</span><br><span class="line">      union _ktbitun, 2 bytes               @62      </span><br><span class="line">         sb2 _ktbitfsc                      @62       0</span><br><span class="line">         ub2 _ktbitwrp                      @62       0x0000</span><br><span class="line">      ub4 ktbitbas                          @64       0x0021d795</span><br><span class="line">   struct ktbbhitl[1], 24 bytes             @68      </span><br><span class="line">      struct ktbitxid, 8 bytes              @68      </span><br><span class="line">         ub2 kxidusn                        @68       0x0000</span><br><span class="line">         ub2 kxidslt                        @70       0x0000</span><br><span class="line">         ub4 kxidsqn                        @72       0x00000000</span><br><span class="line">      struct ktbituba, 8 bytes              @76      </span><br><span class="line">         ub4 kubadba                        @76       0x00000000</span><br><span class="line">         ub2 kubaseq                        @80       0x0000</span><br><span class="line">         ub1 kubarec                        @82       0x00</span><br><span class="line">      ub2 ktbitflg                          @84       0x0000 (NONE)</span><br><span class="line">      union _ktbitun, 2 bytes               @86      </span><br><span class="line">         sb2 _ktbitfsc                      @86       0</span><br><span class="line">         ub2 _ktbitwrp                      @86       0x0000</span><br><span class="line">      ub4 ktbitbas                          @88       0x00000000</span><br></pre></td></tr></table></figure>
<h4 id="2-2-kdbh-Data-Header-Structure"><a href="#2-2-kdbh-Data-Header-Structure" class="headerlink" title="2.2 kdbh(Data Header Structure)"></a>2.2 kdbh(Data Header Structure)</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; p kdbh</span><br><span class="line">struct kdbh, 14 bytes                       @100     </span><br><span class="line">   ub1 kdbhflag                             @100      0x00 (NONE)</span><br><span class="line">   sb1 kdbhntab                             @101      1</span><br><span class="line">   --表的个数，clusters&gt;1</span><br><span class="line">   sb2 kdbhnrow                             @102      9</span><br><span class="line">   --块中包含的行数</span><br><span class="line">   sb2 kdbhfrre                             @104     -1</span><br><span class="line">   --是否在空闲列表，-1表示不在空闲列表</span><br><span class="line">   sb2 kdbhfsbo                             @106      36</span><br><span class="line">   --freespace start offset</span><br><span class="line">   sb2 kdbhfseo                             @108      7466</span><br><span class="line">   --freespace end offset</span><br><span class="line">   sb2 kdbhavsp                             @110      7430</span><br><span class="line">   --块内可用空间</span><br><span class="line">   sb2 kdbhtosp                             @112      7430</span><br><span class="line">   --事务提交后所有的可用空间</span><br></pre></td></tr></table></figure>
<h4 id="2-3-kdbt-Table-Directory-Entry-Structure"><a href="#2-3-kdbt-Table-Directory-Entry-Structure" class="headerlink" title="2.3 kdbt(Table Directory Entry Structure)"></a>2.3 kdbt(Table Directory Entry Structure)</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; p kdbt</span><br><span class="line">struct kdbt[0], 4 bytes                     @114     </span><br><span class="line">   sb2 kdbtoffs                             @114      0</span><br><span class="line">   sb2 kdbtnrow                             @116      9</span><br></pre></td></tr></table></figure>
<h4 id="2-4-kdbr-Row-Directory"><a href="#2-4-kdbr-Row-Directory" class="headerlink" title="2.4 kdbr(Row Directory)"></a>2.4 kdbr(Row Directory)</h4><p>kdbr代表行目录，后面的n是代表该块中存储了多少行数据记录，从第0行开始计算。下例中，表示该块中存储了9行数据。<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; p kdbr</span><br><span class="line">sb2 kdbr[0]                                 @118      8015</span><br><span class="line">sb2 kdbr[1]                                 @120      7946</span><br><span class="line">sb2 kdbr[2]                                 @122      7876</span><br><span class="line">sb2 kdbr[3]                                 @124      7803</span><br><span class="line">sb2 kdbr[4]                                 @126      7744</span><br><span class="line">sb2 kdbr[5]                                 @128      7677</span><br><span class="line">sb2 kdbr[6]                                 @130      7612</span><br><span class="line">sb2 kdbr[7]                                 @132      7538</span><br><span class="line">sb2 kdbr[8]                                 @134      7466</span><br></pre></td></tr></table></figure></p>
<p>结合*号可以打印此块中的第n行数据<br><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">BBED&gt; p *kdbr[2]</span><br><span class="line">rowdata[410]</span><br><span class="line">------------</span><br><span class="line">ub1 rowdata[410]                            @7976     0x2c</span><br><span class="line">--2c代表正常为删除数据，3c代表标记为删除的数据行，第二列是该行数据的偏移量，第三列为标识符fb。</span><br><span class="line">BBED&gt; d /v</span><br><span class="line"> File: /oradata/datafile/linora/perf01.dbf (8)</span><br><span class="line"> Block: 11477   Offsets: 7976 to 8191  Dba:0x02002cd5</span><br><span class="line">-------------------------------------------------------</span><br><span class="line"> 2c010b02 c203084a 414e6e69 66657206 l ,......JANnifer.</span><br><span class="line"> 5768616c 656e074a 5748414c 454e0c35 l Whalen.JWHALEN.5</span><br><span class="line"> 31352e31 32332e34 34343407 78670911 l 15.123.4444.xg..</span><br><span class="line"> 01010107 41445f41 53535402 c22dff03 l ....AD_ASST..-..</span><br><span class="line"> c2020202 c10b2c01 0b03c202 6407446f l ......,.....d.Do</span><br><span class="line"> 75676c61 73054772 616e7406 44475241 l uglas.Grant.DGRA</span><br><span class="line"> 4e540c36 35302e35 30372e39 38343407 l NT.650.507.9844.</span><br><span class="line"> 786c010d 01010108 53485f43 4c45524b l xl......SH_CLERK</span><br><span class="line"> 02c21bff 03c20219 02c1332c 010b03c2 l ..........3,....</span><br><span class="line"> 02630644 6f6e616c 64084f43 6f6e6e65 l .c.Donald.OConne</span><br><span class="line"> 6c6c0844 4f434f4e 4e454c0c 3635302e l ll.DOCONNEL.650.</span><br><span class="line"> 3530372e 39383333 07786b06 15010101 l 507.9833.xk.....</span><br><span class="line"> 0853485f 434c4552 4b02c21b ff03c202 l .SH_CLERK.......</span><br><span class="line"> 1902c133 010695d7                   l ...3....</span><br><span class="line">BBED&gt; x /rncccctcnnnn</span><br><span class="line">rowdata[410]                                @7976    </span><br><span class="line">------------</span><br><span class="line">flag@7976: 0x2c (KDRHFL, KDRHFF, KDRHFH)</span><br><span class="line">lock@7977: 0x01</span><br><span class="line">cols@7978:   11</span><br><span class="line"></span><br><span class="line">col    0[2] @7979: 200 </span><br><span class="line">col    1[8] @7982: JANnifer</span><br><span class="line">col    2[6] @7991: Whalen</span><br><span class="line">col    3[7] @7998: JWHALEN</span><br><span class="line">col   4[12] @8006: 515.123.4444</span><br><span class="line">col    5[7] @8019: 2003-09-17 00:00:00 </span><br><span class="line">col    6[7] @8027: AD_ASST</span><br><span class="line">col    7[2] @8035: 4400 </span><br><span class="line">col    8[0] @8038: *NULL*</span><br><span class="line">col    9[3] @8039: 101 </span><br><span class="line">col   10[2] @8043: 10</span><br></pre></td></tr></table></figure></p>
<p>Reference：<br><a href="http://www.orafaq.com/papers/dissassembling_the_data_block.pdf" target="_blank" rel="noopener">dissassembling_the_data_block</a></p>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/bbed/">#bbed</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/bbed-demo.html">BBED Demo</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/bbed-command.html">BBED基本命令</a>
            
        </span>
    </div>
    
</article>




    </div>
</section>
    <footer class="footer footer-padding">
    <div class="container content">
            <div class="column is-narrow has-text-centered is-size-7-mobile">
                &copy; 2013 - 2018
                <a href="/">Fung Kong&nbsp;
                </a>
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
    </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
    
    
    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>